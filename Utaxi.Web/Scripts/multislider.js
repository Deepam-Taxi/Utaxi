(function(a){a.fn.multislider=function(K,B){var C=a(this);var c=C.find(".MS-content");var b=C.find("button.MS-right");var E=C.find("button.MS-left");var O=c.find(".item:first");if(typeof K==="string"){n(K);return C}else{if(typeof K==="object"||typeof K==="undefined"){F()}}var o,h,A,i,G,q,y,I,m,p;function F(){H();s();k();f()}b.on("click",q);E.on("click",G);C.on("click",".MS-right, .MS-left",u);a(window).on("resize",l);function d(){if(window.innerWidth>I.pauseAbove){C.addClass("ms-PAUSE")}a(window).on("resize",function(){if(window.innerWidth>I.pauseAbove){C.addClass("ms-PAUSE")}else{C.removeClass("ms-PAUSE")}})}function v(){if(window.innerWidth<I.pauseBelow){C.addClass("ms-PAUSE")}a(window).on("resize",function(){if(window.innerWidth<I.pauseBelow){C.addClass("ms-PAUSE")}else{C.removeClass("ms-PAUSE")}})}function n(P){if(typeof C.data(P)!=="undefined"){C.data(P)()}else{console.error("Multislider currently only accepts the following methods: next, prev, pause, play")}}function k(){C.data({pause:function(){C.addClass("ms-PAUSE")},unPause:function(){C.removeClass("ms-PAUSE")},continuous:function(){C.removeClass("ms-PAUSE");L()},next:function(){t(w)},nextAll:function(){t(r)},prev:function(){t(J)},prevAll:function(){t(e)},settings:I})}function t(P){if(C.hasClass("ms-PAUSE")){C.removeClass("ms-PAUSE");P();C.addClass("ms-PAUSE")}else{P()}u()}function H(){c.contents().filter(function(){return(this.nodeType==3&&!/\S/.test(this.nodeValue))}).remove()}function s(){y=I||{continuous:!1,slideAll:!1,interval:2000,duration:500,hoverPause:!0,pauseAbove:null,pauseBelow:null};I=a.extend({},y,K);l();m=I.duration;if(I.hoverPause){g()}if(I.continuous!==!0&&I.interval!==0&&I.interval!==!1&&I.autoSlide!==!1){D()}if(I.pauseAbove!==null&&typeof I.pauseAbove==="number"){d()}if(I.pauseBelow!==null&&typeof I.pauseBelow==="number"){v()}}function f(){if(I.continuous){I.autoSlide=!1;L()}else{if(I.slideAll){G=C.data("prevAll");q=C.data("nextAll")}else{G=C.data("prev");q=C.data("next")}}}function l(){M();i=O.width();var Q=parseInt(c.find(".item:first").css("padding-left"));var P=parseInt(c.find(".item:first").css("padding-right"));if(Q!==0){i+=Q}if(P!==0){i+=P}}function D(){p=setInterval(function(){if(!C.hasClass("ms-PAUSE")){q()}},I.interval)}function u(){if(I.interval!==0&&I.interval!==!1&&I.continuous!==!0){clearInterval(p);D()}}function M(){O=c.find(".item:first");o=c.find(".item:last")}function j(P){if(!C.hasClass("ms-animating")&&!C.hasClass("ms-HOVER")&&!C.hasClass("ms-PAUSE")){C.trigger("ms.before.animate");C.addClass("ms-animating");P()}}function z(){if(C.hasClass("ms-animating")){C.removeClass("ms-animating");C.trigger("ms.after.animate")}}function g(){if(I.continuous){c.on("mouseover",function(){z();c.children(".item:first").stop()});c.on("mouseout",function(){L()})}else{c.on("mouseover",function(){C.addClass("ms-HOVER")});c.on("mouseout",function(){C.removeClass("ms-HOVER")})}}function x(){m=I.duration;var Q=parseFloat(c.find(".item:first").css("margin-left"));var P=1-(Q/-(i-1));m=P*m}function N(){h=c.width();A=Math.floor(h/i)}function L(){j(function(){M();x();O.animate({marginLeft:-(i+1)},{duration:m,easing:"linear",complete:function(){O.insertAfter(o).removeAttr("style");z();L()}})})}function r(){j(function(){M();N();var Q=c.children(".item").clone();var P=Q.splice(0,A);c.append(P);O.animate({marginLeft:-h},{duration:m,easing:"swing",complete:function(){a(c.children(".item").splice(0,A)).remove();z()}})})}function e(){j(function(){M();N();var Q=c.children(".item").length;var R=c.children(".item").clone();var P=R.splice(Q-A,Q);a(a(P)[0]).css("margin-left",-h);c.prepend(P);M();O.animate({marginLeft:0},{duration:m,easing:"swing",complete:function(){Q=c.find(".item").length;a(c.find(".item").splice(Q-A,Q)).remove();O.removeAttr("style");z()}})})}function w(){j(function(){M();O.animate({marginLeft:-i},{duration:m,easing:"swing",complete:function(){O.detach().removeAttr("style").appendTo(c);z()}})})}function J(){j(function(){M();o.css("margin-left",-i).prependTo(c);o.animate({marginLeft:0},{duration:m,easing:"swing",complete:function(){o.removeAttr("style");z()}})})}return C}})(jQuery);
