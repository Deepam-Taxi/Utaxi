var GAreaID="0";function sendSMS(){var e=$("#hdnWebApiURL").val()+"D_MobileNoVerification",i=JSON.stringify({BranchID:"81",ContactNo:$("#mobileNumber").val()});$.ajax({type:"POST",url:e,data:i,contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){($("#bookingName").val(""),$("#bookingEmailID").val(""),$("#bookingAddress").val(""),1==e.Status&&"1"==e.StatusID)?($(".errorMsgOTP").hide(),$("#divBooking").show(),$("#divOTPVerification").hide(),mobileNumber=$("#mobileNumber").val(),$("#bookingName").val(e.Name),$("#bookingEmailID").val(e.EmailID),$("#bookingAddress").val(e.Address),$("#bookingMobileNumber").val(mobileNumber),$("#bookingFare").val($("#hdnFare").val()),$("#bookingACType").val($("#hdnACTypeID").val()),$(".p_T").html(""),"0"==$("#hdnEnableOnlinePayment").val()?($("#RdlOnlinePay").hide(),$("input:radio[name=bookingPayOption]").filter("[value=5]").prop("checked",!0),$("#paymentOption").trigger("click")):($("input:radio[name=bookingPayOption]").filter("[value=5]").prop("checked",!1),$("#RdlOnlinePay").show(),$("#paymentOption").trigger("click"))):""!=e.OTP&&($(".infoMsgOTP").show(),$("#hdnCustomerOTP").val(e.OTP),$("#divOTP").show(),$("#divMobileNumber").hide())},failure:function(){console.log(result)}})}function TimeCheck(){var e=new Date,i=new Date("12-25-2012")-e;Math.floor(i/864e5),Math.floor(i%864e5/36e5)}function loadAvailableRides(){var e=$("#hdnWebApiURL").val()+"D_ShowPackageConfigurationByID",i=JSON.stringify({PackageConfigID:$("#hdnPackageConfigurationID").val()});$.ajax({type:"POST",url:e,data:i,contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:function(){},success:function(e){$(".ratelist").html(""),console.log(e.PackageConfiguration),console.log(e.PackageConfiguration[0].FareDetail),$.each(e.PackageConfiguration[0].FareDetail,function(){var e="<li class='list-group-item'><div class='row'><div class='col-md-2'><img src='/Images/car-11-24.png' /></div>";e=e+"<div class='col-md-5 cabName' style='text-align: left;'>"+this.VehicleType+"</div>",e+="<div class='col-md-5 cabName'>";console.log("this.FixedRateNAC ",this.FixedRateNAC),"0"==this.FixedRateNAC?e+="<button type='button' class='btn btn-primary booking' disabled data-toggle='popover' title='Fare' data-content='And here's fare details' value='NA'>NA</button>":e=e+"<button type='button' class='btn btn-primary DemoTooltipOffset' title='"+(3==this.ServiceNameID?"<b>Rate Per KM :</b> "+this.RatePerKM_NonAC+"<br /><b>Min KM :</b> "+this.MinKMNAC+"<br /><b>Min KM Rate :</b> "+this.MinKMRateNAC+"<br /><b>Day Bata :</b> "+this.DayBata+"<br /><b>Night Bata :</b> "+this.NightBata:2==this.ServiceNameID?"<b>Min Rate :</b> "+this.MinKMRateNAC+"<br /><b>Extra KM Rate :</b> "+this.ExtraKMRateNAC+"<br /><b>Extra Hour Rate :</b> "+this.pkgExtHrRateNAC:"<b>Min KM :</b> "+this.MinKMNAC+"<br /><b>Min KM Rate :</b> "+this.MinKMRateNAC+"<br /><b>Extra KM Rate :</b> "+this.ExtraKMRateNAC)+"' value='"+this.FixedRateNAC+"'onclick=ChooseVehicle("+this.PackageRateConfigID+",2,"+this.FixedRateNAC+") >₹"+this.FixedRateNAC+"</button>","0"==this.FixedRateAC?e+="<button type='button' class='btn btn-success marginleft3px' disabled value='NA'>NA</button>":e=e+"<button type='button' class='btn btn-success marginleft3px DemoTooltipOffset' title='"+(3==this.ServiceNameID?"<b>Rate Per KM :</b> "+this.RatePerKM_AC+"<br /><b>Min KM :</b> "+this.MinKMAC+"<br /><b>Min KM Rate :</b> "+this.MinKMRateAC+"<br /><b>Day Bata :</b> "+this.DayBata+"<br /><b>Night Bata :</b> "+this.NightBata:2==this.ServiceNameID?"<b>Min Rate :</b> "+this.MinKMRateAC+"<br /><b>Extra KM Rate :</b> "+this.ExtraKMRateAC+"<br /><b>Extra Hour Rate :</b> "+this.pkgExtHrRateAC:"<b>Min KM :</b> "+this.MinKMAC+"<br /><b>Min KM Rate :</b> "+this.MinKMRateAC+"<br /><b>Extra KM Rate :</b> "+this.ExtraKMRateAC)+"' value='"+this.FixedRateAC+"' onclick=ChooseVehicle("+this.PackageRateConfigID+",1,"+this.FixedRateAC+")>₹"+this.FixedRateAC+"</button><span style='display:none'>1</span><input type='hidden' value='"+this.RateID+"' />",e+="</div></div></li>",$(".ratelist").append(e),"1"!=$("#hdnServiceTypeID").val()&&"2"!=$("#hdnServiceTypeID").val()&&"3"!=$("#hdnServiceTypeID").val()&&$(".DemoTooltipOffset").jBox("Tooltip",{offset:{x:5,y:-5}}),$(".booking_AC").click(function(){$("#hdnACTypeID").val("1"),$("#divSearchRides").hide(),$("#divAvailableRides").hide(),$("#divOTPVerification").show(),$("#divMobileNumber").show(),$("#divOTP").hide(),$(".errorMsg, .errorMsgOTP, .errorMsgBooking, .infoMsgOTP").hide(),$("#hdnFare").val($(this).next().val())}),$(".booking").click(function(){$("#hdnACType").val($(this).next().next().text()),$("#hdnRateID").val($(this).next().next().next().val()),console.log("hdnACType",$("#hdnACType").val()),clear_OTPFields(),$("#hdnACTypeID").val("1"),$("#divSearchRides").hide(),$("#divAvailableRides").hide(),$("#divOTPVerification").show(),$("#divMobileNumber").show(),$("#divOTP").hide(),$(".errorMsg, .errorMsgOTP, .errorMsgBooking, .infoMsgOTP").hide(),$("#hdnFare").val($(this).val()),$("#hdnACType").val($(this).next().text()),$("#hdnRateID").val($(this).next().next().val()),console.log(" .booking hdnACType",$("#hdnACType").val()),clear_OTPFields()})})},complete:function(){},failure:function(){console.log(result)}})}function insertBookingRequest(){var e=JSON.stringify({FromLocationID:$("#hdnpickupPlaceID").val(),ToLocationID:$("#hdndropPlaceID").val(),ServiceTypeID:$("#hdnServiceTypeID").val(),ServiceNameID:$("#hdnServiceNameID").val(),ReqDate:$("#pickupdatepicker").val(),ReqTime:$("#pickuptimepicker").val(),TripEndDate:$("#dropdatepicker").val(),TripEndTime:$("#droptimepicker").val(),FromLocation:$("#pickupPlace").html(),ToLocation:$("#dropPlace").html()});console.log(e),$.ajax({type:"POST",url:"http://localhost:55683//web//D_GetTripFare",data:e,contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){console.log(this.RequestID),$("#hdnRequestID").val(this.RequestID)},failure:function(){console.log(result)}})}function ChooseVehicle(e,i,a){$("#hdnACTypeID").val(i),$("#divSearchRides").show(),$("#divAvailableRides").hide(),$("#divOTPVerification").hide(),$("#divMobileNumber").hide(),$("#divOTP").hide(),$(".errorMsg, .errorMsgOTP, .errorMsgBooking, .infoMsgOTP").hide(),$("#hdnFare").val(a),$("#hdnACType").val(i),$("#hdnRateID").val(e),console.log("hdnACType",$("#hdnACType").val()),clear_OTPFields(),$("html, body").animate({scrollTop:0},"slow")}function booknow(){var e="",i=$("#hdnWebApiURL").val()+"D_WebBookNow";e="1"==$("#hdnOutstationTypeID").val()?$("#pickupdatepicker").val()+" "+$("#pickuptimepicker").val():$("#dropdatepicker").val()+" "+$("#droptimepicker").val();var a=JSON.stringify({BranchID:"81",Name:$("#bookingName").val(),MobileNumber:$("#bookingMobileNumber").val(),EmailID:$("#bookingEmailID").val(),Address:$("#bookingAddress").val(),Comments:$("#bookingComments").val(),ReqDate:$("#pickupdatepicker").val()+" "+$("#pickuptimepicker").val(),TripEndDate:e,ACTypeID:$("#hdnACType").val(),TotalTripFare:$("#bookingFare").val(),RateID:$("#hdnRateID").val(),ServiceNameID:$("#hdnServiceNameID").val(),FromLocationID:$("#hdnpickupPlaceID").val(),ToLocationID:$("#hdndropPlaceID").val(),ServiceTypeID:$("#hdnServiceTypeID").val(),RequestID:$("#hdnRequestID").val(),PaymentTypeID:$("#hdnPaymentType").val(),PaidAmount:$("#hdnPaidAmount").val(),Discount:$("#hdnDiscount").val(),Balance:$("#hdnBalance").val(),FromLocation:$("#pickupPlace").html(),ToLocation:$("#dropPlace").html()});console.log(a),$.ajax({type:"POST",url:i,data:a,contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){"1"==e.Result?$.post("/Home/SetVariable",{key:"BookingID",value:e.BookID},function(e){var i=$("#hdnPaymentType").val();console.log("payMode",i),"5"==i?($(".infoMsgSuccess").html("Booked successfully with the BookingID "+e.BookID+". <br > Kindly provide your valuable feedback either in our facebook or twitter page."),clear_BookingFields(),clear_OTPFields(),clear_Fields(),$("#divSearchRides").hide(),$("#divAvailableRides").hide(),$("#divOTPVerification").hide(),$("#divBooking").hide(),$("#divOTP").hide(),$("#divBookingSuccess").show(),window.location.href="/Thank-You-Utaxi.aspx"):($(".p_PaymentProcessing").html("<b>Please wait. We are processing your payment .</b>"),$(".p_PaymentProcessing").css("color","green"),window.location.href="https://webapis.utaxi.in/PayTM_GT.aspx?BookID="+e.BookID)}):bootbox.alert("There is an issue during the booking. Please try again")},failure:function(){console.log(result)}})}function showTabs(e){"Airport"==e?($("#hdnPackageType").val(""),clear_Fields(),$("#pickupPlaceSearch").hide(),$("#pickupPlace").show(),$("#dropPlaceSearch").hide(),$("#dropPlace").show(),$("#divAiportPickupField").show(),$("#divAiportDropField").hide(),$("#divSearchRides").show(),$("#divAvailableRides").hide(),$("#divOTPVerification").hide(),$("#divBooking").hide(),$("#divPickup").hide(),$("#divDrop").show(),$("#airportPickupOptions").show(),$("#outstationOptions").hide(),$("#divPackageType").hide(),$("#divDropTime").hide(),$("#divPickupTime").show(),$("#btnSearchNext").show(),$("#hdnServiceNameID").val("7"),$("#hdnServiceTypeID").val("1"),$("#hdnStatusID").val("2")):"Citytaxi"==e?(clear_Fields(),$("#hdnPackageType").val(""),$("#pickupPlaceSearch").hide(),$("#pickupPlace").show(),$("#dropPlaceSearch").hide(),$("#dropPlace").show(),$("#divAiportPickupField").hide(),$("#divAiportDropField").hide(),$("#divSearchRides").show(),$("#divAvailableRides").hide(),$("#divOTPVerification").hide(),$("#divBooking").hide(),$("#divPickup").show(),$("#divDrop").show(),$("#airportPickupOptions").hide(),$("#outstationOptions").hide(),$("#divPackageType").hide(),$("#divDropTime").hide(),$("#divPickupTime").show(),$("#btnSearchNext").show(),$("#hdnServiceNameID").val("1"),$("#hdnServiceTypeID").val("1"),$("#hdnStatusID").val("2")):"Package"==e?(loadPackages(),clear_Fields(),$("#pickupPlaceSearch").hide(),$("#pickupPlace").show(),$("#dropPlaceSearch").hide(),$("#dropPlace").show(),$("#divAiportPickupField").hide(),$("#divAiportDropField").hide(),$("#divSearchRides").hide(),$("#divAvailableRides").show(),$("#divOTPVerification").hide(),$("#divBooking").hide(),$("#divPickup").show(),$("#divDrop").hide(),$("#airportPickupOptions").hide(),$("#outstationOptions").hide(),$("#divPackageType").show(),$("#divDropTime").hide(),$("#divPickupTime").show(),$("#btnSearchNext").show(),$("#hdnServiceNameID").val("2"),$("#hdnServiceTypeID").val("2"),$("#hdnStatusID").val("1")):"Outstation"==e?($("#hdnPackageType").val(""),clear_Fields(),$("#pickupPlaceSearch").hide(),$("#pickupPlace").show(),$("#dropPlaceSearch").hide(),$("#dropPlace").show(),$("#divAiportPickupField").hide(),$("#divAiportDropField").hide(),$("#divSearchRides").show(),$("#divAvailableRides").hide(),$("#divOTPVerification").hide(),$("#divBooking").hide(),$("#airportPickupOptions").hide(),$("#divPackageType").hide(),$("#outstationOptions").show(),$("#divPickup").show(),$("#divPickupTime").show(),$("#divDrop").show(),$("#divDropTime").hide(),$("#btnSearchNext").show(),$("#hdnServiceNameID").val("3"),$("#hdnServiceTypeID").val("3"),$("#hdnStatusID").val("2")):"OutstationPackages"==e&&($("#hdnPackageType").val(""),clear_Fields(),$("#pickupPlaceSearch").show(),$("#pickupPlace").show(),$("#dropPlaceSearch").show(),$("#dropPlace").show(),$("#divAiportPickupField").hide(),$("#divAiportDropField").hide(),$("#divSearchRides").show(),$("#divAvailableRides").hide(),$("#divOTPVerification").hide(),$("#divBooking").hide(),$("#airportPickupOptions").hide(),$("#divPackageType").hide(),$("#outstationOptions").hide(),$("#divPickup").hide(),$("#divPickupTime").hide(),$("#divDrop").hide(),$("#divDropTime").hide(),$("#btnSearchNext").show(),$("#hdnServiceNameID").val("3"),$("#hdnServiceTypeID").val("3"),$("#hdnStatusID").val("2"))}function isEmptyText(e){var i=!1;return""!=$(e).val()?(i=!0,$(e).removeClass("errors")):$(e).addClass("errors"),i}function isEmptyDiv(e){var i=!1;return"Enter Search Place"!=$(e).html().trim()?(i=!0,$(e).removeClass("errors")):$(e).addClass("errors"),i}function isEmptyDropDown(e){var i=!1;return"-1"!=$(e).val()?(i=!0,$(e).removeClass("errors")):$(e).addClass("errors"),i}function clear_Fields(){$("#dropPlace").html("Enter Search Place"),$("#pickupdatepicker, #dropdatepicker").val(""),$("#pickuptimepicker, #droptimepicker").val(""),$("#pickupPlace").html("Enter Search Place"),$("*").removeClass("errors")}function clear_BookingFields(){$("#bookingMobileNumber").val(""),$("#bookingName").val(""),$("#bookingEmailID").val(""),$("#bookingACType").val("-1"),$("#bookingAddress").val(""),$("#bookingComments").val(""),$("#hdnServiceNameID").val(""),$("#hdnServiceTypeID").val(""),$("#hdnStatusID").val(""),$("#hdnOutstationTypeID").val("1"),$("#hdndropPlaceID").val(""),$("#hdnpickupPlaceID").val(""),$("#hdnFare").val(""),$("#hdnACType").val(""),$("#hdnRateID").val("")}function clear_OTPFields(){$("#mobileNumber").val(""),$("#OTP").val(""),$(".errorMsgOTP").hide()}function loadPackages(){var e=$("#hdnWebApiURL").val()+"D_PackageType";$.ajax({type:"POST",url:e,data:{},contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){$("#ddlPackageType").html(""),$("#ddlPackageType").append($("<option     />").val(-1).text("-- Select --")),$.each(e.PackageType,function(){$("#ddlPackageType").append($("<option     />").val(this.ServiceTypeID).text(this.ServiceType))}),$("#ddlPackageType option[value=-1]").attr("selected","selected");var i=$("#hdnPackageType").val();""!=i&&($("#ddlPackageType").find("option:selected").remove(),$("#ddlPackageType option[value="+i+"]").attr("selected","selected"))},failure:function(){console.log(result)}})}function PaymentType(){var e,i="0",a="0",o="0",t=$("#hdnPaymentType").val();e=$("#bookingFare").val(),"1"==t?(5,a=e-(i=parseFloat(5*e)/100),o=0,$(".p_TripFare").html("Your current payment value is Rs. "+a+"/-"),$(".p_TripFare").css("color","red"),$(".p_Discount").html("The balance you will have to pay Rs. "+o+"/-"),$(".p_Balance").html("The amount you save Rs. "+i+"/-"),$(".p_Balance").css("color","green"),$("#hdnPaidAmount").val(a),$("#hdnDiscount").val(i),$("#hdnBalance").val(o)):"2"==t?(2.5,o=(a=parseFloat(50*e)/100)-(i=parseFloat(2.5*e)/100),$(".p_TripFare").html("Your current payment value is Rs. "+a+"/-"),$(".p_TripFare").css("color","red"),$(".p_Discount").html("The balance you will have to pay Rs. "+o+"/-"),$(".p_Balance").html("The amount you save Rs. "+i+"/-"),$(".p_Balance").css("color","green"),$("#hdnPaidAmount").val(a),$("#hdnDiscount").val(i),$("#hdnBalance").val(o)):"3"==t?(100,o=e-(a=e-(i=100))-i,$(".p_TripFare").html("Your current payment value is Rs. "+a+"/-"),$(".p_TripFare").css("color","red"),$(".p_Discount").html("The balance you will have to pay Rs. "+o+"/-"),$(".p_Balance").html("The amount you save Rs. "+i+"/-"),$(".p_Balance").css("color","green"),$("#hdnPaidAmount").val(a),$("#hdnDiscount").val(i),$("#hdnBalance").val(o)):"4"==t?(50,i=50,o=(a=parseFloat(50*e)/100)-i,$(".p_TripFare").html("Your current payment value is Rs. "+a+"/-"),$(".p_TripFare").css("color","red"),$(".p_Discount").html("The balance you will have to pay Rs. "+o+"/-"),$(".p_Balance").html("The amount you save Rs. "+i+"/-"),$(".p_Balance").css("color","green"),$("#hdnPaidAmount").val(a),$("#hdnDiscount").val(i),$("#hdnBalance").val(o)):"5"==t?(a=0,i=0,o=e,$(".p_TripFare").html("Your current payment value is Rs. "+a+"/-"),$(".p_TripFare").css("color","red"),$(".p_Discount").html("The balance you will have to pay Rs. "+o+"/-"),$(".p_Balance").html("The amount you save Rs. "+i+"/-"),$(".p_Balance").css("color","green"),$("#hdnPaidAmount").val(a),$("#hdnDiscount").val(i),$("#hdnBalance").val(o)):"6"==t?(console.log("PaymentType:","Pay Now"),0,i=0,a=e,o=0,$(".p_TripFare").html("Your current payment value is Rs. "+a+"/-"),$(".p_TripFare").css("color","red"),$(".p_Discount").html("The balance you will have to pay Rs. "+o+"/-"),$(".p_Balance").html("The amount you save Rs. "+i+"/-"),$(".p_Balance").css("color","green"),$("#hdnPaidAmount").val(a),$("#hdnDiscount").val(i),$("#hdnBalance").val(o)):"7"==t&&(0,i=0,a=0,o=e,$(".p_TripFare").html("Your current payment value is Rs. "+a+"/-"),$(".p_TripFare").css("color","red"),$(".p_Discount").html("The balance you will have to pay Rs. "+o+"/-"),$(".p_Balance").html("The amount you save Rs. "+i+"/-"),$(".p_Balance").css("color","green"),$("#hdnPaidAmount").val(a),$("#hdnDiscount").val(i),$("#hdnBalance").val(o))}function AreaRegistration(e){return GAreaID}function compareDates(e,i){return e>i}function showBooknow(){$("#myOutstationModal").modal("show")}$(document).ready(function(){loadPackages();var e="";$("#hdnPaymentType").val("5"),$("#pickupPlaceSearch").hide(),$("#pickupPlace").show(),$("#dropPlaceSearch").hide(),$("#dropPlace").show(),$("#pickupdatepicker, #dropdatepicker").datepicker({minDate:0}),$("#pickuptimepicker, #droptimepicker").mdtimepicker(),$(".errorMsg, .errorMsgOTP, .errorMsgBooking, .infoMsgOTP").hide(),$(".classPackageBooking").show(),$("#divSearchRides").hide(),$("#divAvailableRides").show(),$("#divOTPVerification").hide(),$("#divBooking").hide(),$("#divOTP").hide(),$("#divBookingSuccess").hide(),$("#divPickup").hide(),$("#divDrop").show(),$("#airportPickupOptions").show(),$("#outstationOptions").hide(),$("#divPackageType").hide(),$("#divDropTime").hide(),$("#divAiportPickupField").show(),$("#divAiportDropField").hide(),$("#hdnServiceNameID").val("7"),$("#hdnServiceTypeID").val("1"),$("#hdnStatusID").val("2");var i=$("#hdnPackageType").val(),a=$("#hdnAirportServiceNameID").val();""!=i?(showTabs("Package"),$("#idAirportTab").removeClass("active"),$("#idPackageTab").addClass("active")):"6"==a?(showTabs("Outstation"),$("#idAirportTab").removeClass("active"),$("#idOutstationTab").addClass("active")):""!=a&&($("input[name=pickupOption][value="+a+"]").attr("checked","checked"),$("#hdnServiceTypeID").val(a),$("#hdnStatusID").val("2")),showTabs("Package"),$("#divAvailableRides").show(),loadAvailableRides(),$("#rdAirportPickup").click(function(){clear_Fields(),$("#pickupPlaceSearch").hide(),$("#pickupPlace").show(),$("#dropPlaceSearch").hide(),$("#dropPlace").show(),$("#divAiportPickupField").show(),$("#divAiportDropField").hide(),$("#divPickup").hide(),$("#divDrop").show(),$("#divAvailableRides").hide(),$("#hdnServiceTypeID").val("1"),$("#hdnStatusID").val("2")}),$(".btnCloseModal").click(function(){$("#myOutstationModal").modal("hide")}),$("#rdAirportDrop").click(function(){clear_Fields(),$("#pickupPlaceSearch").hide(),$("#pickupPlace").show(),$("#dropPlaceSearch").hide(),$("#dropPlace").show(),$("#divAiportPickupField").hide(),$("#divAiportDropField").show(),$("#divPickup").show(),$("#divDrop").hide(),$("#divAvailableRides").hide(),$("#hdnServiceTypeID").val("2"),$("#hdnStatusID").val("2")}),$("#rdAirportRT").click(function(){clear_Fields(),$("#pickupPlaceSearch").hide(),$("#pickupPlace").show(),$("#dropPlaceSearch").hide(),$("#dropPlace").show(),$("#divAiportPickupField").hide(),$("#divAiportDropField").show(),$("#divPickup").show(),$("#divDrop").hide(),$("#divAvailableRides").hide(),$("#hdnServiceTypeID").val("3"),$("#hdnStatusID").val("2")}),$("#rdOutstationTrip").click(function(){clear_Fields(),$("#pickupPlaceSearch").hide(),$("#pickupPlace").show(),$("#dropPlaceSearch").hide(),$("#dropPlace").show(),$("#divAiportPickupField").hide(),$("#divAiportDropField").hide(),$("#divPickup").show(),$("#divDrop").show(),$("#divDropTime").hide(),$("#divPickupTime").show(),$("#btnSearchNext").show(),$("#divAvailableRides").hide(),$("#hdnServiceTypeID").val("3"),$("#hdnStatusID").val("2"),$("#hdnOutstationTypeID").val("1")}),$("#rdOutstationPackage").click(function(){clear_Fields(),$("#pickupPlaceSearch").hide(),$("#pickupPlace").show(),$("#dropPlaceSearch").hide(),$("#dropPlace").show(),$("#divAiportPickupField").hide(),$("#divAiportDropField").hide(),$("#divPickup").show(),$("#divDrop").show(),$("#divDropTime").show(),$("#divPickupTime").show(),$("#btnSearchNext").show(),$("#divAvailableRides").hide(),$("#hdnServiceTypeID").val("3"),$("#hdnStatusID").val("2"),$("#hdnOutstationTypeID").val("2")}),$(".clsbookNow").click(function(){$(".classPackageRates").show(),$(".classPackageBooking").hide(),$("#divSearchRides").hide(),$("#divBookingSuccess").hide()}),$("#pickupPlace").click(function(){$("#pickupPlaceSearch").show().val("").focus(),$("#pickupPlace").hide(),$("#divAvailableRides").hide()}),$("#pickupdatepicker").click(function(){$("#divAvailableRides").hide()}),$("#dropdatepicker").click(function(){$("#divAvailableRides").hide()}),$("#pickuptimepicker").click(function(){$("#divAvailableRides").hide()}),$("#droptimepicker").click(function(){$("#divAvailableRides").hide()}),$("#ddlPackageType").change(function(){$("#divAvailableRides").hide()}),$("#dropPlace").click(function(){$("#dropPlaceSearch").show().val("").focus(),$("#dropPlace").hide(),$("#divAvailableRides").hide()}),$("#btnSubmit").click(function(){var e=$("#pickupdatepicker").val()+" "+$("#pickuptimepicker").val(),i=$("#dropdatepicker").val()+" "+$("#droptimepicker").val(),a=new Date(e),o=(new Date(i),new Date);if(0==compareDates(a,o))$(".errorMsg").show().html("<strong>!</strong> Previous time will not be allowed"),$("#divAvailableRides").hide();else{$("#hdnServiceNameID").val("3");var t=$("#ddlPackageType option:selected").val();$("#hdnServiceTypeID").val(t),isEmptyDiv("#pickupPlace")&&isEmptyText("#pickupdatepicker")&&isEmptyText("#pickuptimepicker")?($(".errorMsg").hide().html("<strong>!</strong> Correct the errors"),insertBookingRequest(),$("#divSearchRides").hide(),$("#divAvailableRides").hide(),$("#divOTPVerification").show(),$("#divMobileNumber").show()):($(".errorMsg").show().html("<strong>!</strong> Correct the errors"),$("#divAvailableRides").hide())}}),$("#btnSubmitOTP").click(function(){$("#divMobileNumber").is(":visible")?isEmptyText("#mobileNumber")?sendSMS():$(".errorMsgOTP").show():isEmptyText("#OTP")?$("#hdnCustomerOTP").val()==$("#OTP").val()?($("#divBooking").show(),$("#divOTPVerification").hide(),e=$("#mobileNumber").val(),$("#bookingMobileNumber").val(e),$("#bookingFare").val($("#hdnFare").val()),$("#bookingACType").val($("#hdnACTypeID").val()),console.log("hdnACType",$("#hdnACTypeID").val()),$(".errorMsgOTP").hide().html("<strong>!</strong> Correct the errors")):$(".errorMsgOTP").show().html("<strong>!</strong> Entered wrong OTP"):$(".errorMsgOTP").show()}),$("#btnBooknow").click(function(){if(isEmptyText("#bookingMobileNumber")&&isEmptyText("#bookingName")&&isEmptyText("#bookingEmailID")&&isEmptyDropDown("#bookingACType")&&isEmptyText("#bookingAddress")){var e=$("input[name=bookingPayOption]:checked").val();""==e||null==e?(bootbox.alert("Payment option is required to proceed"),$("#paymentOption").addClass("errors"),$(".errorMsgBooking").show()):($("#paymentOption").removeClass("errors"),$(".errorMsgBooking").hide(),booknow())}else $(".errorMsgBooking").show()}),$("#btnCancelOTP, #btnReplan").click(function(){$("#divSearchRides").show(),$("#divAvailableRides").show(),$("#divOTPVerification").hide(),$("#divBooking").hide(),clear_OTPFields()}),$("#paymentOption").click(function(){$("#hdnPaymentType").val($("input[name=bookingPayOption]:checked").val()),console.log("hdnPaymentType:",$("#hdnPaymentType").val()),$(".E_paymentOption").html(""),$(".p_Fare").html(""),$(".div_fareCalculation").show(),PaymentType()})});
